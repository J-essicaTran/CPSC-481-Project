@page "/items"

<PageTitle>Items | Hawkins Public Library</PageTitle>

@if (isBorrowedItems)
{
	<div class="outer-container">
		<div/>
		<div class="items-content-container">
			<div class="tab-container">
				<div class="tab" @onclick='() => {SwitchTab("borrowed");}'>
					<h3 class="tab-text">Borrowed Items</h3>
				</div>
				<div class="disabled-tab" @onclick='() => {SwitchTab("held");}'>
					<h3 class="tab-text">Held Items</h3>
				</div>
			</div>
			<div class="content-container">
				<h2 style="margin: 0; color: #ff3f3f;">Ender's Game</h2>
				<h5 style="color: #ff3f3f;">Gavin Hood</h5>
				<div class="item-subinfo">
					<h4 style="color: #ff3f3f;">Due In: <b>Overdue</b></h4>
					<button style="background-color: #ffffff; color: #ffffff; border-color: #ffffff" @onclick=RenewBook1 disabled=True>OVERDUE</button>
				</div>
				<hr />
				<h2 style="margin: 0">Crazy Rich Asians</h2>
				<h5>Gavin Hood</h5>
				<div class="item-subinfo">
					<h4>Due In: <b>@(isRenewed2 ? "9 Days" : "2 Days")</b></h4>
					<button class="@(isRenewed2 ? "renewed-button" : "")" @onclick=RenewBook2 disabled="@isRenewed2">@(isRenewed2 ? "Renewed" : "Renew")</button>
				</div>
			</div>
		</div>
		<div class="@(isRenewed2 ? "borrowed-warning-container-on" : "borrowed-warning-container-off")">
			<h5 style="margin: 0;">Please be advised that once you renew an item, <b>it will only be renewed once.</b> When the new due date arrives, you will be required to return the item promptly or you may be subject to late fees or penalties.</h5>
		</div>
	</div>
}
else
{
	<div class="outer-container">
		<div/>
		<div class="items-content-container">
			<div class="tab-container">
				<div class="disabled-tab" @onclick='() => {SwitchTab("borrowed");}'>
					<h3 class="tab-text">Borrowed Items</h3>
				</div>
				<div class="tab" @onclick='() => {SwitchTab("held");}'>
					<h3 class="tab-text">Held Items</h3>
				</div>
			</div>
			<div class="content-container">
				<h2 style="margin: 0">The Martian</h2>
				<h5>Mike Weir</h5>
				<div class="item-subinfo">
					<h4>Place: <b>2</b></h4>
					<button>Remove</button>
				</div>
				<hr />
			</div>
		</div>
		<div class="borrowed-warning-container-off">
			<h5 style="margin: 0;">Please be advised that once you renew an item, <b>it will only be renewed once.</b> When the new due date arrives, you will be required to return the item promptly or you may be subject to late fees or penalties.</h5>
		</div>
	</div>
}

@code {
	private bool isRenewed1 = false;
	private bool isRenewed2 = false;
	private bool isBorrowedItems = true;

	private void RenewBook1()
	{
		isRenewed1 = true;
	}
	private void RenewBook2()
	{
		isRenewed2 = true;
	}
	private void SwitchTab(string tabName)
	{
		if(tabName == "borrowed")
		{
			isBorrowedItems = true;
		}
		else
		{
			isBorrowedItems = false;
		}
	}
}
